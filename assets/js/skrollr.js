!function(e,t,r){"use strict";var n,o,a,i,l,s,c,f,u,p,m,g,d,$,v,h,y,_={get:function(){return a},init:function(e){return a||new et(e)},VERSION:"0.6.30"},T=Object.prototype.hasOwnProperty,b=e.Math,S=e.getComputedStyle,k="touchstart",w="touchmove",x="skrollable",E=x+"-before",A=x+"-between",F=x+"-after",C="skrollr",H="no-"+C,I=C+"-desktop",D=C+"-mobile",P="linear",V="center",z="bottom",O="___skrollable_id",N=/^(?:input|textarea|button|select)$/i,q=/^\s+|\s+$/g,L=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,M=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,B=/^(@?[a-z\-]+)\[(\w+)\]$/,G=/-([a-z0-9_])/g,K=function(e,t){return t.toUpperCase()},Y=/[\-+]?[\d]*\.?[\d]+/g,R=/\{\?\}/g,U=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,X=/[a-z\-]+-gradient/g,j="",W="",Z=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(S){var t=S(o,null);for(var r in t)if(j=r.match(e)||+r==r&&t[r].match(e))break;if(!j){j=W="";return}"-"===(j=j[0]).slice(0,1)?(W=j,j=({"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"})[j]):W="-"+j.toLowerCase()+"-"}},J=function(){var t=e.requestAnimationFrame||e[j.toLowerCase()+"RequestAnimationFrame"],r=ew();return(eV||!t)&&(t=function(t){var n=ew()-r,o=b.max(0,1e3/60-n);return e.setTimeout(function(){r=ew(),t()},o)}),t},Q=function(){var t=e.cancelAnimationFrame||e[j.toLowerCase()+"CancelAnimationFrame"];return(eV||!t)&&(t=function(t){return e.clearTimeout(t)}),t},ee={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-b.cos(e*b.PI)/2+.5},sqrt:function(e){return b.sqrt(e)},outCubic:function(e){return b.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-b.abs(3*b.cos(e*t*1.028)/t)}};function et(r){if(n=t.documentElement,o=t.body,Z(),a=this,f=(r=r||{}).constants||{},r.easing)for(var i in r.easing)ee[i]=r.easing[i];v=r.edgeStrategy||"set",s={beforerender:r.beforerender,render:r.render,keyframe:r.keyframe},(c=!1!==r.forceHeight)&&(eA=r.scale||1),u=r.mobileDeceleration||.004,m=!1!==r.smoothScrolling,g=r.smoothScrollingDuration||200,d={targetTop:a.getScrollTop()},(eV=(r.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})())?((l=t.getElementById(r.skrollrBody||"skrollr-body"))&&em(),er(),eb(n,[C,D],[H])):eb(n,[C,I],[H]),a.refresh(),eg(e,"resize orientationchange",function(){var e=n.clientWidth,t=n.clientHeight;(t!==eD||e!==eI)&&(eD=t,eI=e,eP=!0)});var p=J();return!function e(){ea(),y=p(e)}(),a}et.prototype.refresh=function(e){var n=!1;for(e===r?(n=!0,i=[],e0=0,e=t.getElementsByTagName("*")):r===e.length&&(e=[e]),o=0,l=e.length;o<l;o++){var o,l,s,c,f,u=e[o],p=u,g=[],d=m,$=v,h=!1;if(n&&O in u&&delete u[O],u.attributes){for(var y=0,_=u.attributes.length;y<_;y++){var T=u.attributes[y];if("data-anchor-target"===T.name){if(null===(p=t.querySelector(T.value)))throw'Unable to find anchor target "'+T.value+'"';continue}if("data-smooth-scrolling"===T.name){d="off"!==T.value;continue}if("data-edge-strategy"===T.name){$=T.value;continue}if("data-emit-events"===T.name){h=!0;continue}var b=T.name.match(L);if(null!==b){var S={props:T.value,element:u,eventType:T.name.replace(G,K)};g.push(S);var k=b[1];k&&(S.constant=k.substr(1));var w=b[2];/p$/.test(w)?(S.isPercentage=!0,S.offset=(0|w.slice(0,-1))/100):S.offset=0|w;var E=b[3],A=b[4]||E;E&&"start"!==E&&"end"!==E?(S.mode="relative",S.anchors=[E,A]):(S.mode="absolute","end"===E?S.isEnd=!0:S.isPercentage||(S.offset=S.offset*eA))}}g.length&&(!n&&O in u?(s=i[f=u[O]].styleAttr,c=i[f].classAttr):(f=u[O]=e0++,s=u.style.cssText,c=eT(u)),i[f]={element:u,styleAttr:s,classAttr:c,anchorTarget:p,keyFrames:g,smoothScrolling:d,edgeStrategy:$,emitEvents:h,lastFrameIndex:-1},eb(u,[x],[]))}}for(eh(),o=0,l=e.length;o<l;o++){var F=i[e[o][O]];F!==r&&(ei(F),es(F))}return a},et.prototype.relativeToAbsolute=function(e,t,r){var o=n.clientHeight,i=e.getBoundingClientRect(),l=i.top,s=i.bottom-i.top;return t===z?l-=o:t===V&&(l-=o/2),r===z?l+=s:r===V&&(l+=s/2),(l+=a.getScrollTop())+.5|0},et.prototype.animateTo=function(e,t){t=t||{};var n=ew(),o=a.getScrollTop(),i=r===t.duration?1e3:t.duration;return(p={startTop:o,topDiff:e-o,targetTop:e,duration:i,startTime:n,endTime:n+i,easing:ee[t.easing||P],done:t.done}).topDiff||(p.done&&p.done.call(a,!1),p=r),a},et.prototype.stopAnimateTo=function(){p&&p.done&&p.done.call(a,!0),p=r},et.prototype.isAnimatingTo=function(){return!!p},et.prototype.isMobile=function(){return eV},et.prototype.setScrollTop=function(t,r){return $=!0===r,eV?ez=b.min(b.max(t,0),eE):e.scrollTo(0,t),a},et.prototype.getScrollTop=function(){return eV?ez:e.pageYOffset||n.scrollTop||o.scrollTop||0},et.prototype.getMaxScrollTop=function(){return eE},et.prototype.on=function(e,t){return s[e]=t,a},et.prototype.off=function(e){return delete s[e],a},et.prototype.destroy=function(){Q()(y),e$(),eb(n,[H],[C,I,D]);for(var e=0,t=i.length;e<t;e++)ep(i[e].element);n.style.overflow=o.style.overflow="",n.style.height=o.style.height="",l&&_.setStyle(l,"transform","none"),a=r,l=r,s=r,c=r,eE=0,eA=1,f=r,u=r,eF="down",eC=-1,eI=0,eD=0,eP=!1,p=r,m=r,g=r,d=r,$=r,e0=0,v=r,eV=!1,ez=0,h=r};var er=function(){var i,l,s,c,f,p,m,g,d,$,v,h;eg(n,[k,w,"touchcancel","touchend"].join(" "),function(e){var n=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=n.clientY,p=n.clientX,$=e.timeStamp,N.test(c.tagName)||e.preventDefault(),e.type){case k:i&&i.blur(),a.stopAnimateTo(),i=c,l=m=f,s=p,d=$;break;case w:N.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),g=f-m,h=$-v,a.setScrollTop(ez-g,!0),m=f,v=$;break;default:var o=l-f,y=s-p;if(y*y+o*o<49){if(!N.test(i.tagName)){i.focus();var _=t.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i.dispatchEvent(_)}return}i=r;var T=g/h;T=b.max(b.min(T,3),-3);var S=b.abs(T/u),x=T*S+.5*u*S*S,E=a.getScrollTop()-x,A=0;E>eE?(A=(eE-E)/x,E=eE):E<0&&(A=-E/x,E=0),S*=1-A,a.animateTo(E+.5|0,{easing:"outCubic",duration:S})}}),e.scrollTo(0,0),n.style.overflow=o.style.overflow="hidden"},en=function(){var e,t,r,o,l,s,f,u,p,m,g,d=n.clientHeight,$=ey();for(u=0,p=i.length;u<p;u++)for(t=(e=i[u]).element,r=e.anchorTarget,o=e.keyFrames,l=0,s=o.length;l<s;l++)m=(f=o[l]).offset,g=$[f.constant]||0,f.frame=m,f.isPercentage&&(m*=d,f.frame=m),"relative"===f.mode&&(ep(t),f.frame=a.relativeToAbsolute(r,f.anchors[0],f.anchors[1])-m,ep(t,!0)),f.frame+=g,c&&!f.isEnd&&f.frame>eE&&(eE=f.frame);for(eE=b.max(eE,e_()),u=0,p=i.length;u<p;u++){for(o=(e=i[u]).keyFrames,l=0,s=o.length;l<s;l++)g=$[(f=o[l]).constant]||0,f.isEnd&&(f.frame=eE-f.offset+g);e.keyFrames.sort(ex)}},eo=function(e,t){for(var r=0,n=i.length;r<n;r++){var o,a,l=i[r],s=l.element,c=l.smoothScrolling?e:t,f=l.keyFrames,u=f.length,p=f[0],m=f[f.length-1],g=c<p.frame,d=c>m.frame,$=g?p:m,v=l.emitEvents,h=l.lastFrameIndex;if(g||d){if(g&&-1===l.edge||d&&1===l.edge)continue;switch(g?(eb(s,[E],[F,A]),v&&h>-1&&(ev(s,p.eventType,eF),l.lastFrameIndex=-1)):(eb(s,[F],[E,A]),v&&h<u&&(ev(s,m.eventType,eF),l.lastFrameIndex=u)),l.edge=g?-1:1,l.edgeStrategy){case"reset":ep(s);continue;case"ease":c=$.frame;break;default:var y=$.props;for(o in y)T.call(y,o)&&(a=eu(y[o].value),0===o.indexOf("@")?s.setAttribute(o.substr(1),a):_.setStyle(s,o,a));continue}}else 0!==l.edge&&(eb(s,[x,A],[E,F]),l.edge=0);for(var b=0;b<u-1;b++)if(c>=f[b].frame&&c<=f[b+1].frame){var S=f[b],k=f[b+1];for(o in S.props)if(T.call(S.props,o)){var w=(c-S.frame)/(k.frame-S.frame);w=S.props[o].easing(w),a=ef(S.props[o].value,k.props[o].value,w),a=eu(a),0===o.indexOf("@")?s.setAttribute(o.substr(1),a):_.setStyle(s,o,a)}v&&h!==b&&("down"===eF?ev(s,S.eventType,eF):ev(s,k.eventType,eF),l.lastFrameIndex=b);break}}},ea=function(){eP&&(eP=!1,eh());var e,t,n=a.getScrollTop(),o=ew();if(p?(o>=p.endTime?(n=p.targetTop,e=p.done,p=r):(t=p.easing((o-p.startTime)/p.duration),n=p.startTop+t*p.topDiff|0),a.setScrollTop(n,!0)):!$&&(d.targetTop-n&&(d={startTop:eC,topDiff:n-eC,targetTop:n,startTime:eH,endTime:eH+g}),o<=d.endTime&&(t=ee.sqrt((o-d.startTime)/g),n=d.startTop+t*d.topDiff|0)),$||eC!==n){eF=n>eC?"down":n<eC?"up":eF,$=!1;var i={curTop:n,lastTop:eC,maxTop:eE,direction:eF};!1!==(s.beforerender&&s.beforerender.call(a,i))&&(eo(n,a.getScrollTop()),eV&&l&&_.setStyle(l,"transform","translate(0, "+-ez+"px) "+h),eC=n,s.render&&s.render.call(a,i)),e&&e.call(a,!1)}eH=o},ei=function(e){for(var t=0,r=e.keyFrames.length;t<r;t++){for(var n,o,a,i,l=e.keyFrames[t],s={};null!==(i=M.exec(l.props));)a=i[1],o=i[2],null!==(n=a.match(B))?(a=n[1],n=n[2]):n=P,o=o.indexOf("!")?el(o):[o.slice(1)],s[a]={value:o,easing:ee[n]};l.props=s}},el=function(e){var t=[];return U.lastIndex=0,e=e.replace(U,function(e){return e.replace(Y,function(e){return e/255*100+"%"})}),W&&(X.lastIndex=0,e=e.replace(X,function(e){return W+e})),e=e.replace(Y,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},es=function(e){var t,r,n={};for(t=0,r=e.keyFrames.length;t<r;t++)ec(e.keyFrames[t],n);for(n={},t=e.keyFrames.length-1;t>=0;t--)ec(e.keyFrames[t],n)},ec=function(e,t){var r;for(r in t)T.call(e.props,r)||(e.props[r]=t[r]);for(r in e.props)t[r]=e.props[r]},ef=function(e,t,r){var n,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var a=[e[0]];for(n=1;n<o;n++)a[n]=e[n]+(t[n]-e[n])*r;return a},eu=function(e){var t=1;return R.lastIndex=0,e[0].replace(R,function(){return e[t++]})},ep=function(e,t){e=[].concat(e);for(var r,n,o=0,a=e.length;o<a;o++)(r=i[(n=e[o])[O]])&&(t?(n.style.cssText=r.dirtyStyleAttr,eb(n,r.dirtyClassAttr)):(r.dirtyStyleAttr=n.style.cssText,r.dirtyClassAttr=eT(n),n.style.cssText=r.styleAttr,eb(n,r.classAttr)))},em=function(){h="translateZ(0)",_.setStyle(l,"transform",h);var e=S(l),t=e.getPropertyValue("transform"),r=e.getPropertyValue(W+"transform");t&&"none"!==t||r&&"none"!==r||(h="")};_.setStyle=function(e,t,r){var n=e.style;if("zIndex"===(t=t.replace(G,K).replace("-","")))isNaN(r)?n[t]=r:n[t]=""+(0|r);else if("float"===t)n.styleFloat=n.cssFloat=r;else try{j&&(n[j+t.slice(0,1).toUpperCase()+t.slice(1)]=r),n[t]=r}catch(o){}};var eg=_.addEvent=function(t,r,n){var o,a=function(t){return(t=t||e.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),n.call(this,t)};r=r.split(" ");for(var i=0,l=r.length;i<l;i++)o=r[i],t.addEventListener?t.addEventListener(o,n,!1):t.attachEvent("on"+o,a),eO.push({element:t,name:o,listener:n})},ed=_.removeEvent=function(e,t,r){t=t.split(" ");for(var n=0,o=t.length;n<o;n++)e.removeEventListener?e.removeEventListener(t[n],r,!1):e.detachEvent("on"+t[n],r)},e$=function(){for(var e,t=0,r=eO.length;t<r;t++)ed((e=eO[t]).element,e.name,e.listener);eO=[]},ev=function(e,t,r){s.keyframe&&s.keyframe.call(a,e,t,r)},eh=function(){var e=a.getScrollTop();eE=0,c&&!eV&&(o.style.height=""),en(),c&&!eV&&(o.style.height=eE+n.clientHeight+"px"),eV?a.setScrollTop(b.min(a.getScrollTop(),eE)):a.setScrollTop(e,!0),$=!0},ey=function(){var e,t,r=n.clientHeight,o={};for(e in f)"function"==typeof(t=f[e])?t=t.call(a):/p$/.test(t)&&(t=t.slice(0,-1)/100*r),o[e]=t;return o},e_=function(){var e,t=0;return l&&(t=b.max(l.offsetHeight,l.scrollHeight)),(e=b.max(t,o.scrollHeight,o.offsetHeight,n.scrollHeight,n.offsetHeight,n.clientHeight))-n.clientHeight},eT=function(t){var r="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[r],r="baseVal"),t[r]},eb=function(t,n,o){var a="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[a],a="baseVal"),o===r){t[a]=n;return}for(var i=t[a],l=0,s=o.length;l<s;l++)i=ek(i).replace(ek(o[l])," ");i=eS(i);for(var c=0,f=n.length;c<f;c++)-1===ek(i).indexOf(ek(n[c]))&&(i+=" "+n[c]);t[a]=eS(i)},eS=function(e){return e.replace(q,"")},ek=function(e){return" "+e+" "},ew=Date.now||function(){return+new Date},ex=function(e,t){return e.frame-t.frame},eE=0,eA=1,eF="down",eC=-1,eH=ew(),eI=0,eD=0,eP=!1,e0=0,eV=!1,ez=0,eO=[];"function"==typeof define&&define.amd?define([],function(){return _}):"undefined"!=typeof module&&module.exports?module.exports=_:e.skrollr=_}(window,document);